`timescale 1ns/1ps

module tb_shift_reg ();

parameter N = 15; //16 bit
logic [N:0] q_out;
logic clk, rst_n;
logic shift_en;
logic dir; //left 0 and right 1
logic d_in;

integer i;

shift_reg dut (.q_out(q_out), .clk(clk), .rst_n(rst_n), .shift_en(shift_en), .dir(dir), .d_in(d_in));

initial clk = 0;
always #5 clk = ~clk;

initial begin 
rst_n = 0; shift_en = 0; dir = 0; d_in = 0;
#10;
rst_n = 1:
#5
shift_en =1 ; dir = 0; 
for (i = 0; i<=N; i = i+1) begin 
d_in = 1;
#5;
end

dir = 1;
or (i = 0; i<=N; i = i+1) begin 
d_in = 0;
#5;
end
shift_en = 0;
#10;
$finish;
end

$monitor("T = %0t | rst=%b en=%b dir=%b din=%b q=%h",$time, rst_n, shift_en, dir, d_in, q_out);
endmodule